services:
  dashboard:
    build:
      context: .
    container_name: syncthing-dashboard
    restart: unless-stopped
    environment:
      SYNCTHING_BASE_URL: ${SYNCTHING_BASE_URL-}
      SYNCTHING_API_KEY: ${SYNCTHING_API_KEY-}
      SYNCTHING_DASHBOARD_POLL_INTERVAL: ${SYNCTHING_DASHBOARD_POLL_INTERVAL:-5s}
      SYNCTHING_DASHBOARD_LISTEN_ADDRESS: ${SYNCTHING_DASHBOARD_LISTEN_ADDRESS:-:8080}
      SYNCTHING_DASHBOARD_READ_TIMEOUT: ${SYNCTHING_DASHBOARD_READ_TIMEOUT:-10s}
      SYNCTHING_DASHBOARD_WRITE_TIMEOUT: ${SYNCTHING_DASHBOARD_WRITE_TIMEOUT:-10s}
      SYNCTHING_TIMEOUT: ${SYNCTHING_TIMEOUT:-8s}
      SYNCTHING_INSECURE_SKIP_VERIFY: ${SYNCTHING_INSECURE_SKIP_VERIFY:-false}
      SYNCTHING_DASHBOARD_TITLE: ${SYNCTHING_DASHBOARD_TITLE:-Syncthing}
      SYNCTHING_DASHBOARD_SUBTITLE: ${SYNCTHING_DASHBOARD_SUBTITLE:-Read-Only Dashboard}
    ports:
      - "8080:8080"
    extra_hosts:
      - "host.docker.internal:host-gateway"
